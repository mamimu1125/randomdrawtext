<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„É©„É≥„ÉÄ„É†ÊèèÁîª„ÉÅ„É£„É¨„É≥„Ç∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f5f5;
            color: #333;
            min-height: 100vh;
        }
        
        .container {
            max-width: 100vw;
            min-height: 100vh;
            padding: 1rem;
            display: flex;
            flex-direction: column;
        }
        
        h1 {
            text-align: center;
            margin-bottom: 2rem;
            font-size: 1.5rem;
            color: #222;
        }
        
        .category-selection {
            display: block;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .category-btn {
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
            color: #333;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .category-btn:hover {
            border-color: #666;
            background: #f9f9f9;
        }
        
        .category-btn.selected {
            background: #333;
            color: white;
            border-color: #333;
        }
        
        .emoji {
            font-size: 1.5rem;
            display: block;
            margin-bottom: 0.5rem;
        }
        
        .difficulty-section {
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .difficulty-label {
            font-size: 1rem;
            color: #666;
            margin-bottom: 1rem;
        }
        
        .difficulty-buttons {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .difficulty-btn {
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 0.8rem 1.2rem;
            color: #333;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 80px;
        }
        
        .difficulty-btn:hover {
            border-color: #666;
            background: #f9f9f9;
        }
        
        .difficulty-btn.active {
            background: #333;
            color: white;
            border-color: #333;
        }
        
        .start-btn {
            background: #333;
            border: none;
            border-radius: 8px;
            padding: 1rem 2rem;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            max-width: 200px;
            margin: 0 auto;
        }
            background: #333;
            border: none;
            border-radius: 8px;
            padding: 1rem 2rem;
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            max-width: 200px;
            margin: 0 auto;
        }
        
        .start-btn:hover {
            background: #555;
        }
        
        .start-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .challenge-area {
            display: none;
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .topic-container {
            width: 100%;
            height: 60vh;
            background: white;
            border: 2px solid #ddd;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .topic-display {
            text-align: center;
            padding: 2rem;
        }
        
        .topic-emoji {
            font-size: 4rem;
            margin-bottom: 2rem;
        }
        
        .topic-text {
            font-size: 2.5rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 1rem;
            line-height: 1.2;
        }
        
        .topic-description {
            font-size: 1.2rem;
            color: #666;
            margin-top: 1rem;
        }
        
        .timer-section {
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .timer-buttons {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        
        .timer-btn {
            background: white;
            border: 2px solid #ddd;
            border-radius: 6px;
            padding: 0.5rem 1rem;
            color: #333;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .timer-btn:hover {
            border-color: #666;
        }
        
        .timer-btn.active {
            background: #333;
            color: white;
            border-color: #333;
        }
        
        .timer-display {
            background: #333;
            color: white;
            border-radius: 6px;
            padding: 0.5rem 1rem;
            font-size: 1.2rem;
            font-weight: bold;
            font-family: 'Courier New', monospace;
            display: inline-block;
        }
        
        .timer-display.warning {
            background: #666;
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background: white;
            border: 2px solid #ddd;
            border-radius: 6px;
            padding: 0.5rem 1rem;
            color: #333;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .control-btn:hover {
            border-color: #666;
            background: #f9f9f9;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 0.5rem;
            }
            
            h1 {
                font-size: 1.2rem;
                margin-bottom: 1rem;
            }
            
            .topic-container {
                height: 50vh;
            }
            
            .topic-text {
                font-size: 2rem;
            }
            
            .topic-emoji {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® „É©„É≥„ÉÄ„É†ÊèèÁîª„ÉÅ„É£„É¨„É≥„Ç∏</h1>
        
        <div class="category-selection">
            <div class="category-grid">
                <button class="category-btn" data-category="animals">
                    <span class="emoji">üê±</span>
                    ÂãïÁâ©
                </button>
                <button class="category-btn" data-category="nature">
                    <span class="emoji">üå≤</span>
                    Ëá™ÁÑ∂„ÉªÈ¢®ÊôØ
                </button>
                <button class="category-btn" data-category="food">
                    <span class="emoji">üçé</span>
                    È£ü„ÅπÁâ©
                </button>
                <button class="category-btn" data-category="objects">
                    <span class="emoji">üéØ</span>
                    Áâ©„ÉªÈÅìÂÖ∑
                </button>
                <button class="category-btn" data-category="people">
                    <span class="emoji">üë•</span>
                    ‰∫∫Áâ©
                </button>
                <button class="category-btn" data-category="scenes">
                    <span class="emoji">üèûÔ∏è</span>
                    „Ç∑„Éº„É≥
                </button>
            </div>
            
            <div class="difficulty-section">
                <p class="difficulty-label">Èõ£ÊòìÂ∫¶</p>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn active" data-difficulty="easy">
                        <span class="difficulty-emoji">üòä</span>
                        „Åã„Çì„Åü„Çì
                    </button>
                    <button class="difficulty-btn" data-difficulty="medium">
                        <span class="difficulty-emoji">ü§î</span>
                        „Åµ„Å§„ÅÜ
                    </button>
                    <button class="difficulty-btn" data-difficulty="hard">
                        <span class="difficulty-emoji">üò§</span>
                        „ÇÄ„Åö„Åã„Åó„ÅÑ
                    </button>
                </div>
            </div>
            
            <button class="start-btn" id="startBtn" disabled>
                „ÉÅ„É£„É¨„É≥„Ç∏ÈñãÂßãÔºÅ
            </button>
        </div>
        
        <div class="challenge-area">
            <div class="topic-container">
                <div class="topic-display">
                    <div class="topic-emoji" id="topicEmoji">üé®</div>
                    <div class="topic-text" id="topicText">„ÅäÈ°å„ÅåË°®Á§∫„Åï„Çå„Åæ„Åô</div>
                    <div class="topic-description" id="topicDescription">„Ç¢„Éä„É≠„Ç∞„Åß„ÇÇ„ÄÅ„Éá„Ç∏„Çø„É´„Åß„ÇÇ„ÄÅ„ÅäÂ•Ω„Åç„Å™ÊñπÊ≥ï„ÅßÊèè„ÅÑ„Å¶„Åè„Å†„Åï„ÅÑ</div>
                </div>
            </div>
            
            <div class="timer-section">
                <div class="timer-buttons">
                    <button class="timer-btn" data-time="60">1ÂàÜ</button>
                    <button class="timer-btn active" data-time="300">5ÂàÜ</button>
                    <button class="timer-btn" data-time="600">10ÂàÜ</button>
                    <button class="timer-btn" data-time="1800">30ÂàÜ</button>
                    <button class="timer-btn" data-time="0">Âà∂Èôê„Å™„Åó</button>
                </div>
                <div class="timer-display" id="timerDisplay">05:00</div>
            </div>
            
            <div class="controls">
                <button class="control-btn" id="newTopicBtn">Êñ∞„Åó„ÅÑ„ÅäÈ°å</button>
                <button class="control-btn" id="backBtn">„Ç´„ÉÜ„Ç¥„É™ÈÅ∏Êäû„Å´Êàª„Çã</button>
            </div>
        </div>
    </div>

    <script>
        // „Ç∞„É≠„Éº„Éê„É´Â§âÊï∞
        let selectedCategory = '';
        let selectedDifficulty = 'easy';
        let timerInterval = null;
        let timeLeft = 0;
        let selectedTime = 300; // „Éá„Éï„Ç©„É´„Éà5ÂàÜ
        
        // „É©„É≥„ÉÄ„É†ÁµÑ„ÅøÂêà„Çè„ÅõÁî®„ÅÆÂçòË™û„É™„Çπ„Éà
        const wordSets = {
            animals: {
                subjects: ['Áå´', 'Áä¨', 'È≥•', '„É©„Ç§„Ç™„É≥', '„Çæ„Ç¶', '„ÅÜ„Åï„Åé', 'È≠ö', 'Ëù∂', '„Ç≠„É™„É≥', '„Éë„É≥„ÉÄ', 'È¶¨', 'Áæä', '„Ç´„Ç®„É´', '„Éö„É≥„ÇÆ„É≥', '„Éï„ÇØ„É≠„Ç¶', '„É™„Çπ', '„Éè„É†„Çπ„Çø„Éº', '„Ç´„É°'],
                actions: ['Ëµ∞„Å£„Å¶„ÅÑ„Çã', 'Áú†„Å£„Å¶„ÅÑ„Çã', 'È£ü„Åπ„Å¶„ÅÑ„Çã', 'ÈÅä„Çì„Åß„ÅÑ„Çã', 'Ê≥≥„ÅÑ„Åß„ÅÑ„Çã', 'È£õ„Çì„Åß„ÅÑ„Çã', 'Â∫ß„Å£„Å¶„ÅÑ„Çã', 'Ê≠©„ÅÑ„Å¶„ÅÑ„Çã', 'È≥¥„ÅÑ„Å¶„ÅÑ„Çã', 'Ë∑≥„Å≠„Å¶„ÅÑ„Çã', 'Èö†„Çå„Å¶„ÅÑ„Çã', 'Ë¶ã„Å§„ÇÅ„Å¶„ÅÑ„Çã'],
                modifiers: ['Â∞è„Åï„Å™', 'Â§ß„Åç„Å™', 'ÂèØÊÑõ„ÅÑ', 'ÂÖÉÊ∞ó„Å™', 'Áú†„Åù„ÅÜ„Å™', 'ÊÄí„Å£„Åü', 'Á¨ëÈ°î„ÅÆ', 'ÊÇ≤„Åó„Åù„ÅÜ„Å™', 'Â§™„Å£„Åü', 'Áó©„Åõ„Åü', 'ÊØõÊ∑±„ÅÑ', 'Ëâ≤„Å®„Çä„Å©„Çä„ÅÆ']
            },
            nature: {
                subjects: ['Êú®', 'Ëä±', 'Â±±', 'Êµ∑', 'Â∑ù', 'Èõ≤', 'Â§™ÈôΩ', 'Êúà', 'Êòü', 'Èõ®', 'Èõ™', 'È¢®', 'ËçâÂéü', 'Ê£Æ', 'Á†ÇÊº†', 'Êªù', 'Êπñ', 'Â≥∂'],
                actions: ['Êè∫„Çå„Å¶„ÅÑ„Çã', 'ÂÖâ„Å£„Å¶„ÅÑ„Çã', 'ÊµÅ„Çå„Å¶„ÅÑ„Çã', 'Âí≤„ÅÑ„Å¶„ÅÑ„Çã', 'Êï£„Å£„Å¶„ÅÑ„Çã', 'Ëºù„ÅÑ„Å¶„ÅÑ„Çã', 'Ê≤à„Çì„Åß„ÅÑ„Çã', 'Êòá„Å£„Å¶„ÅÑ„Çã', 'Èôç„Å£„Å¶„ÅÑ„Çã', 'Âêπ„ÅÑ„Å¶„ÅÑ„Çã'],
                modifiers: ['Áæé„Åó„ÅÑ', 'Èùô„Åã„Å™', 'ÊøÄ„Åó„ÅÑ', 'Á©è„ÇÑ„Åã„Å™', 'Êöó„ÅÑ', 'Êòé„Çã„ÅÑ', 'Â§ß„Åç„Å™', 'Â∞è„Åï„Å™', 'Âè§„ÅÑ', 'Êñ∞ÈÆÆ„Å™', 'Á•ûÁßòÁöÑ„Å™', 'Â£ÆÂ§ß„Å™']
            },
            food: {
                subjects: ['„Çä„Çì„Åî', '„Éë„É≥', '„Ç±„Éº„Ç≠', '„Éî„Ç∂', '„É©„Éº„É°„É≥', '„Çµ„É≥„Éâ„Ç§„ÉÉ„ÉÅ', '„Ç¢„Ç§„Çπ', '„ÉÅ„Éß„Ç≥', 'ÂØøÂè∏', '„Ç´„É¨„Éº', '„Éë„Çπ„Çø', '„Éâ„Éº„Éä„ÉÑ', '„Ç≥„Éº„Éí„Éº', '„Ç∏„É•„Éº„Çπ'],
                actions: ['Ê∫∂„Åë„Å¶„ÅÑ„Çã', 'ÊπØÊ∞ó„ÅåÂá∫„Å¶„ÅÑ„Çã', 'ÁÑº„Åë„Å¶„ÅÑ„Çã', 'ÂÜ∑„Åà„Å¶„ÅÑ„Çã', 'Áõõ„Çâ„Çå„Å¶„ÅÑ„Çã', 'Âàá„Çâ„Çå„Å¶„ÅÑ„Çã', '‰∏¶„Çì„Åß„ÅÑ„Çã'],
                modifiers: ['ÁæéÂë≥„Åó„Åù„ÅÜ„Å™', 'ÁÜ±„ÄÖ„ÅÆ', 'ÂÜ∑„Åü„ÅÑ', 'Áîò„ÅÑ', 'Ëæõ„ÅÑ', '„Ç´„É©„Éï„É´„Å™', 'Â§ß„Åç„Å™', 'Â∞è„Åï„Å™', 'Êâã‰Ωú„Çä„ÅÆ', 'ÁÑº„Åç„Åü„Å¶„ÅÆ']
            },
            objects: {
                subjects: ['Êú¨', 'ÊôÇË®à', '„ÇÆ„Çø„Éº', '„Ç´„É°„É©', '„É©„É≥„Éó', 'Ê§ÖÂ≠ê', 'ÂÇò', '„É°„Ç¨„Éç', '„Ç´„Éê„É≥', '„Éö„É≥', 'Â∏ΩÂ≠ê', 'Èù¥', '„Éú„Éº„É´', 'ÁÆ±'],
                actions: ['ÁΩÆ„Åã„Çå„Å¶„ÅÑ„Çã', 'Â£ä„Çå„Å¶„ÅÑ„Çã', 'ÂÖâ„Å£„Å¶„ÅÑ„Çã', 'Âãï„ÅÑ„Å¶„ÅÑ„Çã', 'ÂÄí„Çå„Å¶„ÅÑ„Çã', 'È£õ„Çì„Åß„ÅÑ„Çã', 'Ëª¢„Åå„Å£„Å¶„ÅÑ„Çã'],
                modifiers: ['Âè§„ÅÑ', 'Êñ∞„Åó„ÅÑ', 'Â§ß„Åç„Å™', 'Â∞è„Åï„Å™', 'Áæé„Åó„ÅÑ', 'Â£ä„Çå„Åü', 'ÂÖâ„Çã', 'Èáç„ÅÑ', 'ËªΩ„ÅÑ', '„Ç´„É©„Éï„É´„Å™', '„Ç∑„É≥„Éó„É´„Å™']
            },
            people: {
                subjects: ['Â≠ê‰æõ', 'Â§ß‰∫∫', '„ÅäÂπ¥ÂØÑ„Çä', 'Ëµ§„Å°„ÇÉ„Çì', 'Áî∑ÊÄß', 'Â•≥ÊÄß', 'ÂÆ∂Êóè', 'ÂèãÈÅî', 'ÂÖÑÂºü', 'ÂßâÂ¶π'],
                actions: ['Á¨ë„Å£„Å¶„ÅÑ„Çã', 'Ê≥£„ÅÑ„Å¶„ÅÑ„Çã', 'Ëµ∞„Å£„Å¶„ÅÑ„Çã', 'Ê≠©„ÅÑ„Å¶„ÅÑ„Çã', 'Â∫ß„Å£„Å¶„ÅÑ„Çã', 'Á´ã„Å£„Å¶„ÅÑ„Çã', 'Ë∏ä„Å£„Å¶„ÅÑ„Çã', 'Ê≠å„Å£„Å¶„ÅÑ„Çã', 'Ë™≠„Çì„Åß„ÅÑ„Çã', 'Ë©±„Åó„Å¶„ÅÑ„Çã', 'ËÄÉ„Åà„Å¶„ÅÑ„Çã', 'Áú†„Å£„Å¶„ÅÑ„Çã'],
                modifiers: ['Âπ∏„Åõ„Åù„ÅÜ„Å™', 'ÊÇ≤„Åó„Åù„ÅÜ„Å™', 'ÂÖÉÊ∞ó„Å™', 'Áñ≤„Çå„Åü', 'Ëã•„ÅÑ', 'Âπ¥ËÄÅ„ÅÑ„Åü', 'ËÉå„ÅÆÈ´ò„ÅÑ', 'ËÉå„ÅÆ‰Ωé„ÅÑ', 'ÂÑ™„Åó„ÅÑ', 'Âé≥„Åó„ÅÑ']
            },
            scenes: {
                subjects: ['ÂÖ¨Âúí', 'ÂÆ∂', 'Â≠¶Ê†°', 'ÈßÖ', '„Ç´„Éï„Çß', 'Âõ≥Êõ∏È§®', 'ÁóÖÈô¢', 'Â∫ó', 'Â∏ÇÂ†¥', 'Êµ∑Ëæ∫', 'Â±±È†Ç', 'Ë°óËßí', 'ÈÉ®Â±ã', 'Â∫≠'],
                actions: ['Ë≥ë„Çè„Å£„Å¶„ÅÑ„Çã', 'Èùô„Åæ„Å£„Å¶„ÅÑ„Çã', 'Ëºù„ÅÑ„Å¶„ÅÑ„Çã', 'Êöó„Åè„Å™„Å£„Å¶„ÅÑ„Çã', 'Èõ®„Å´Êø°„Çå„Å¶„ÅÑ„Çã', 'Èõ™„Å´Ë¶Ü„Çè„Çå„Å¶„ÅÑ„Çã'],
                modifiers: ['Èùô„Åã„Å™', 'Ë≥ë„ÇÑ„Åã„Å™', 'Áæé„Åó„ÅÑ', 'Âè§„ÅÑ', 'Êñ∞„Åó„ÅÑ', 'Â∫É„ÅÑ', 'Áã≠„ÅÑ', 'Êòé„Çã„ÅÑ', 'Êöó„ÅÑ', 'Ê∏©„Åã„ÅÑ', 'ÂÜ∑„Åü„ÅÑ', 'Êáê„Åã„Åó„ÅÑ']
            }
        };
        
        // ÂàùÊúüÂåñ
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
        });
        
        function setupEventListeners() {
            // „Ç´„ÉÜ„Ç¥„É™ÈÅ∏Êäû
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    selectedCategory = this.dataset.category;
                    checkStartButton();
                });
            });
            
            // Èõ£ÊòìÂ∫¶ÈÅ∏Êäû
            document.querySelectorAll('.difficulty-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.difficulty-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    selectedDifficulty = this.dataset.difficulty;
                });
            });
            
            // „Çø„Ç§„Éû„ÉºÈÅ∏Êäû
            document.querySelectorAll('.timer-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.timer-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                    selectedTime = parseInt(this.dataset.time);
                    
                    if (selectedTime === 0) {
                        document.getElementById('timerDisplay').textContent = '--:--';
                    } else {
                        updateTimerDisplay(selectedTime);
                    }
                });
            });
            
            // „Çπ„Çø„Éº„Éà„Éú„Çø„É≥
            document.getElementById('startBtn').addEventListener('click', startChallenge);
            
            // „Ç≥„É≥„Éà„É≠„Éº„É´„Éú„Çø„É≥
            document.getElementById('newTopicBtn').addEventListener('click', getNewTopic);
            document.getElementById('backBtn').addEventListener('click', backToCategories);
        }
        
        function checkStartButton() {
            document.getElementById('startBtn').disabled = !selectedCategory;
        }
        
        function startChallenge() {
            document.querySelector('.category-selection').style.display = 'none';
            document.querySelector('.challenge-area').style.display = 'flex';
            getNewTopic();
        }
        
        function getNewTopic() {
            stopTimer();
            
            const words = wordSets[selectedCategory] || wordSets.animals;
            
            let randomPattern;
            
            // Èõ£ÊòìÂ∫¶„Å´Âøú„Åò„Å¶„Éë„Çø„Éº„É≥„ÇíÈÅ∏Êäû
            if (selectedDifficulty === 'easy') {
                // „Åã„Çì„Åü„ÇìÔºö„Ç∑„É≥„Éó„É´„Å™ÂçòË™û„ÅÆ„Åø
                const randomSubject = words.subjects[Math.floor(Math.random() * words.subjects.length)];
                randomPattern = randomSubject;
                
            } else if (selectedDifficulty === 'medium') {
                // „Åµ„Å§„ÅÜÔºö‰øÆÈ£æË™û„ÅãÂãï‰Ωú„Çí1„Å§ËøΩÂä†
                const randomSubject = words.subjects[Math.floor(Math.random() * words.subjects.length)];
                const randomModifier = words.modifiers[Math.floor(Math.random() * words.modifiers.length)];
                const randomAction = words.actions[Math.floor(Math.random() * words.actions.length)];
                
                const patterns = [
                    `${randomModifier}${randomSubject}`,
                    `${randomAction}${randomSubject}`
                ];
                
                randomPattern = patterns[Math.floor(Math.random() * patterns.length)];
                
            } else {
                // „ÇÄ„Åö„Åã„Åó„ÅÑÔºöË§áÈõë„Å™ÁµÑ„ÅøÂêà„Çè„Åõ
                const randomSubject = words.subjects[Math.floor(Math.random() * words.subjects.length)];
                const randomModifier = words.modifiers[Math.floor(Math.random() * words.modifiers.length)];
                const randomAction = words.actions[Math.floor(Math.random() * words.actions.length)];
                
                const patterns = [
                    `${randomAction}${randomModifier}${randomSubject}`,
                    `${randomModifier}${randomSubject}„Åå${randomAction}„Å®„Åì„Çç`,
                    `${randomModifier}${randomSubject}„Å®${randomModifier}${words.subjects[Math.floor(Math.random() * words.subjects.length)]}`
                ];
                
                randomPattern = patterns[Math.floor(Math.random() * patterns.length)];
            }
            
            // „Ç´„ÉÜ„Ç¥„É™„Åî„Å®„ÅÆÁµµÊñáÂ≠ó
            const categoryEmojis = {
                animals: 'üêæ',
                nature: 'üåø', 
                food: 'üçΩÔ∏è',
                objects: 'üì¶',
                people: 'üë§',
                scenes: 'üé≠'
            };
            
            // Èõ£ÊòìÂ∫¶Ë°®Á§∫
            const difficultyEmojis = {
                easy: 'üòä',
                medium: 'ü§î',
                hard: 'üò§'
            };
            
            const emoji = categoryEmojis[selectedCategory] || 'üé®';
            const difficultyEmoji = difficultyEmojis[selectedDifficulty];
            
            document.getElementById('topicEmoji').textContent = `${emoji} ${difficultyEmoji}`;
            document.getElementById('topicText').textContent = randomPattern;
            document.getElementById('topicDescription').textContent = `${selectedDifficulty === 'easy' ? '„Ç∑„É≥„Éó„É´„Å´' : selectedDifficulty === 'medium' ? 'Á®ã„Çà„ÅèË©≥„Åó„Åè' : '„Åì„Å†„Çè„Å£„Å¶'}Êèè„ÅÑ„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅ`;
            
            console.log(`„É©„É≥„ÉÄ„É†„ÅäÈ°åÔºà${selectedDifficulty}Ôºâ:`, randomPattern);
            
            // „Çø„Ç§„Éû„Éº„ÇíÈñãÂßã
            startTimer();
        }
        
        function backToCategories() {
            document.querySelector('.challenge-area').style.display = 'none';
            document.querySelector('.category-selection').style.display = 'flex';
            stopTimer();
        }
        
        // „Çø„Ç§„Éû„ÉºÊ©üËÉΩ
        function startTimer() {
            if (selectedTime === 0) return;
            
            timeLeft = selectedTime;
            updateTimerDisplay(timeLeft);
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay(timeLeft);
                
                const timerDisplay = document.getElementById('timerDisplay');
                if (timeLeft <= 30 && timeLeft > 0) {
                    timerDisplay.classList.add('warning');
                } else {
                    timerDisplay.classList.remove('warning');
                }
                
                if (timeLeft <= 0) {
                    stopTimer();
                    alert('ÊôÇÈñìÂàá„ÇåÔºÅ„ÅäÁñ≤„ÇåÊßò„Åß„Åó„Åü üé®\nÁ¥†Êïµ„Å™‰ΩúÂìÅ„Åå„Åß„Åç„Åæ„Åó„Åü„ÅãÔºü');
                }
            }, 1000);
        }
        
        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
                timerInterval = null;
            }
            document.getElementById('timerDisplay').classList.remove('warning');
        }
        
        function updateTimerDisplay(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = seconds % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${remainingSeconds.toString().padStart(2, '0')}`;
            document.getElementById('timerDisplay').textContent = display;
        }
    </script>
</body>
</html>